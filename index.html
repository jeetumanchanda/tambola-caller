<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="manifest" href="manifest.json">
<title>Tambola Caller</title>
<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
        background: linear-gradient(to bottom right, #ff9800, #ff5722);
        margin: 0;
        padding: 0;
        color: white;
    }
    .board {
        display: grid;
        grid-template-columns: repeat(10, 1fr);
        gap: 5px;
        max-width: 600px;
        margin: 20px auto;
    }
    .cell {
        background: #fff;
        color: #333;
        border-radius: 5px;
        padding: 10px 0;
        font-weight: bold;
        font-size: 18px;
    }
    .marked {
        background: red;
        color: white;
        border-radius: 50%;
    }
    .controls {
        margin-top: 15px;
    }
    .btn {
        background: gold;
        border: none;
        border-radius: 50%;
        padding: 20px;
        cursor: pointer;
        box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    }
    .stats {
        margin-top: 10px;
        font-size: 16px;
    }
    .overlay {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.85);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 120px;
        color: yellow;
        font-weight: bold;
        text-shadow: 0 0 20px red, 0 0 40px orange, 0 0 60px yellow;
        animation: pop 0.5s ease-in-out;
        z-index: 1000;
    }
    @keyframes pop {
        0% { transform: scale(0.5); opacity: 0; }
        50% { transform: scale(1.2); opacity: 1; }
        100% { transform: scale(1); }
    }
</style>
</head>
<body>
<h1>Tambola Caller</h1>
<div class="board" id="board"></div>
<div class="controls">
    <button id="callBtn" class="btn">üîî</button>
    <button id="resetBtn" class="btn" style="background:#f44336; margin-left:15px;">‚ôªÔ∏è</button>
    <div class="stats">
        Last Call: <span id="lastCall">-</span> | Calls Made: <span id="callsMade">0</span> / 90
    </div>
</div>
<div id="overlay" class="overlay" style="display:none;"></div>
<script>
    let calledNumbers = [];
    const board = document.getElementById('board');
    const overlay = document.getElementById('overlay');
    const lastCall = document.getElementById('lastCall');
    const callsMade = document.getElementById('callsMade');

    function createBoard() {
        board.innerHTML = '';
        for (let i = 1; i <= 90; i++) {
            const cell = document.createElement('div');
            cell.classList.add('cell');
            cell.id = 'cell-' + i;
            cell.textContent = i;
            board.appendChild(cell);
        }
    }

    function callNumber() {
        if (calledNumbers.length >= 90) return;
        let num;
        do {
            num = Math.floor(Math.random() * 90) + 1;
        } while (calledNumbers.includes(num));
        calledNumbers.push(num);
        document.getElementById('cell-' + num).classList.add('marked');
        lastCall.textContent = num;
        callsMade.textContent = calledNumbers.length;
        showOverlay(num);
    }

    function showOverlay(num) {
        overlay.textContent = num;
        overlay.style.display = 'flex';
        setTimeout(() => overlay.style.display = 'none', 5000);
    }

    function resetGame() {
        calledNumbers = [];
        createBoard();
        lastCall.textContent = '-';
        callsMade.textContent = '0';
    }

    document.getElementById('callBtn').addEventListener('click', callNumber);
    document.getElementById('resetBtn').addEventListener('click', resetGame);

    createBoard();
</script>
</body>
</html>
